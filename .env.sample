# --- KUCOIN EXECUTION ---
KUCOIN_API_KEY=6890cfb4dffe710001e6edb0
KUCOIN_API_SECRET=889e4492-c2ff-4c9d-9136-64afe6d5e780
KUCOIN_API_PASSPHRASE=Nad1703-_
KUCOIN_BASE_URL=https://api-futures.kucoin.com

# --- SYMBOLS ---
# Mets AUTO_SYMBOLS=0 si tu veux rester sur la liste ci-dessous.
AUTO_SYMBOLS=0
SYMBOLS=BTCUSDT,ETHUSDT,SOLUSDT
SYMBOLS_MAX=40
EXCLUDE_SYMBOLS=

# --- WARMUP ---
WARMUP_SECONDS=15

# --- RISK & ORDERS ---
MARGIN_PER_TRADE_USDT=20
MAX_CONCURRENT_POSITIONS=4
STOP_BUFFER_ATR_MULT=1.2
TAKE_PROFIT_1_RR=1.4
TAKE_PROFIT_2_RR=2.2
TP1_PART=0.5
TRAIL_AFTER_TP1_MULT_ATR=0.8
MOVE_TO_BE_AFTER_TP1=1

# --- SCORING (Institution++) ---
# Score global = SOMME pondérée -> seuil ≈ 2.2 si poids ~1
REQ_SCORE_MIN=2
REQ_RR_MIN=1.2
ALLOW_TOLERANCE_RR=1

# Pondérations des sous-scores (tous ∈ [0..1])
W_OI=0.35
W_FUNDING=0.15
W_DELTA=0.25
W_LIQ=0.10
W_BOOK_IMBAL=0.15

# Seuils “gates” par composant
INST_COMPONENTS_MIN=2
OI_REQ_MIN=0.40
DELTA_REQ_MIN=0.40
FUNDING_REQ_MIN=0.20
LIQ_REQ_MIN=0.50
BOOK_REQ_MIN=0.30
USE_BOOK_IMBAL=0

# Normalisation des enrichissements Binance
FUNDING_REF=0.00025      # 0.025% -> score 1.0
OI_DELTA_REF=0.02        # 2% ΔOI (5m) -> score 1.0
OI_FUND_REFRESH_SEC=45

# --- LIQ PACK ---
LIQ_REFRESH_SEC=30
LIQ_NOTIONAL_NORM=150000
LIQ_IMBAL_WEIGHT=0.35
LIQ_NOTIONAL_OVERRIDES={}   # JSON, ex: {"BTCUSDT": 3000000}

# --- PERSISTENCE / COOLDOWN ---
PERSIST_WIN=3
PERSIST_MIN_OK=2
SYMBOL_COOLDOWN_SEC=900
MIN_LIQ_NORM=0

# --- MACRO ---
USE_MACRO=1
USE_TOTAL2=1
MACRO_REFRESH_MINUTES=5

# --- EXECUTION TACTICS (V1.1) ---
POST_ONLY_ENTRIES=1
ENTRY_TIMEOUT_SEC=3.0
MAX_REQUOTES=2
MAX_MAKER_SLIPPAGE_TICKS=5
ADVERSE_SWEEP_THRESHOLD=0.35
CANCEL_ON_ADVERSE=1
TWO_STAGE_ENTRY=1
STAGE1_FRACTION=0.35

# --- EXECUTION (V1.1-bis) ---
USE_IOC_FALLBACK=1
DEFAULT_TICK_SIZE=0.1

# --- ENV / LOGS ---
ENV=prod
PERSIST_PATH=./runtime_state.json
LOG_SIGNALS=1

# --- TELEGRAM ---
TELEGRAM_BOT_TOKEN=7605602027:AAFTBVopeZQYBh8ZtoudgU5oykuWbZtDz2o
TELEGRAM_CHAT_ID=5485398553

# (Alias Railway si tu préfères TOKEN/CHAT_ID)
TOKEN=${TELEGRAM_BOT_TOKEN}
CHAT_ID=${TELEGRAM_CHAT_ID}
